generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Curso {
  codigo       String               @id
  asignatura   String
  creditos     Int
  semestre     String
  proyecciones ProyeccionSemestre[]
}

model ProyeccionSemestre {
  id           Int        @id @default(autoincrement())
  cursos       Curso[]
  semestre     String
  proyeccion   Proyeccion @relation(fields: [proyeccionId], references: [id])
  proyeccionId Int
}

model Proyeccion {
  id            Int                  @id @default(autoincrement())
  proyecciones  ProyeccionSemestre[]
  estudiante    Estudiante           @relation(fields: [estudianteRut], references: [rut])
  carrera       Carrera              @relation(fields: [carreraCodigo], references: [codigo])
  estudianteRut String
  carreraCodigo String
}

model Carrera {
  codigo       String       @id
  nombre       String
  catalogo     String
  estudiantes  Estudiante[]
  proyecciones Proyeccion[]
}

model Estudiante {
  rut          String       @id
  carreras     Carrera[]
  proyecciones Proyeccion[]
}
